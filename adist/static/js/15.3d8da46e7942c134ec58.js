webpackJsonp([15],{mfPC:function(t,e){},ydyK:function(t,e,a){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var l=a("Xxa5"),r=a.n(l),n=a("exGp"),o=a.n(n),i=a("gyMJ"),s={data:function(){return{tableData3:[],filter:{offset:0,limit:10,name:"",subjectId:"",gradeId:""},ids:[],count:0,grades:[],subjects:[]}},watch:{"filter.name":function(){this.filter.offset=0,this.querySchool()},"filter.subjectId":function(){this.filter.offset=0,this.querySchool()},"filter.gradeId":function(){this.filter.offset=0,this.querySchool()}},created:function(){var t=this;return o()(r.a.mark(function e(){return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t.querySchool();case 1:case"end":return e.stop()}},e,t)}))()},methods:{querySchool:function(){var t=this;return o()(r.a.mark(function e(){var a;return r.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,i.i.querySchool(t.filter);case 2:a=e.sent,t.tableData3=a.data,t.count=a.count;case 5:case"end":return e.stop()}},e,t)}))()},currentPage:function(t){this.filter.offset=t*this.filter.limit-1,this.querySchool()},deleteSchool:function(t){var e=this;return o()(r.a.mark(function a(){return r.a.wrap(function(a){for(;;)switch(a.prev=a.next){case 0:return a.next=2,e.$confirm("确认要执行此操作吗");case 2:return a.next=4,i.i.deleteSchool(t?[t]:e.ids);case 4:e.querySchool();case 5:case"end":return a.stop()}},a,e)}))()},handleSelectionChange:function(t){this.ids=t.map(function(t){return t.id})}}},c={render:function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"box"},[a("header-tit",{attrs:{img:"teT.png",tit:"教师管理"}}),t._v(" "),a("el-form",{staticClass:"from"},[a("el-form-item",{attrs:{label:"授课年级"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.filter.gradeId,callback:function(e){t.$set(t.filter,"gradeId",e)},expression:"filter.gradeId"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),t._l(this.$store.state.BaseConfig.grades,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"学科"}},[a("el-select",{attrs:{placeholder:"请选择"},model:{value:t.filter.subjectId,callback:function(e){t.$set(t.filter,"subjectId",e)},expression:"filter.subjectId"}},[a("el-option",{attrs:{label:"全部",value:""}}),t._v(" "),t._l(this.$store.state.BaseConfig.subjects,function(t,e){return a("el-option",{key:e,attrs:{label:t.name,value:t.id}})})],2)],1),t._v(" "),a("el-form-item",{attrs:{label:"姓名"}},[a("el-input",{staticClass:"fi",model:{value:t.filter.name,callback:function(e){t.$set(t.filter,"name",e)},expression:"filter.name"}})],1)],1),t._v(" "),a("div",{staticClass:"top"},[a("div",{staticClass:"add"},[a("div",[a("el-button",{attrs:{type:"primary"},on:{click:function(e){t.$router.push("/teacherDetail")}}},[t._v("新增")])],1),t._v(" "),a("div",[a("el-button",{attrs:{type:"danger"},on:{click:function(e){t.deleteSchool()}}},[t._v("删除")])],1)])]),t._v(" "),a("el-table",{staticStyle:{width:"100%"},attrs:{"tooltip-effect":"dark",data:t.tableData3},on:{"selection-change":t.handleSelectionChange}},[a("el-table-column",{attrs:{type:"selection",width:"55"}}),t._v(" "),a("el-table-column",{attrs:{prop:"id",label:"ID",width:"180"}}),t._v(" "),a("el-table-column",{attrs:{label:"形象照片"},scopedSlots:t._u([{key:"default",fn:function(t){return[a("img",{staticClass:"img",attrs:{src:t.row.photoUrl,alt:""}})]}}])}),t._v(" "),a("el-table-column",{attrs:{prop:"name",label:"教师姓名"}}),t._v(" "),a("el-table-column",{attrs:{prop:"graduateSchool",label:"毕业学校"}}),t._v(" "),a("el-table-column",{attrs:{prop:"diploma",label:"学历"}}),t._v(" "),a("el-table-column",{attrs:{prop:"subjectName",label:"教授学科"}}),t._v(" "),a("el-table-column",{attrs:{prop:"grades",label:"授课年级"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("div",t._l(e.row.grades,function(e,l){return a("span",{key:l},[t._v(" "+t._s(e.name)+" ")])}))]}}])}),t._v(" "),a("el-table-column",{attrs:{label:"操作",width:"180"},scopedSlots:t._u([{key:"default",fn:function(e){return[a("el-button",{attrs:{size:"mini"},on:{click:function(a){t.$router.push("/teacherDetail?id="+e.row.id)}}},[t._v("修改")]),t._v(" "),a("el-button",{attrs:{size:"mini",type:"danger"},on:{click:function(a){t.deleteSchool(e.row.id)}}},[t._v("删除")])]}}])})],1),t._v(" "),a("div",{staticClass:"pat"},[t.count?a("el-pagination",{attrs:{background:"",layout:"prev, pager, next","page-size":t.filter.limit,total:t.count},on:{"current-change":t.currentPage}}):t._e()],1)],1)},staticRenderFns:[]};var u=a("VU/8")(s,c,!1,function(t){a("mfPC")},"data-v-7f35d9b0",null);e.default=u.exports}});